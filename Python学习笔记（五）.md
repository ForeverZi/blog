# Python学习笔记（五）
[TOC]
## IO
### 设置字符串格式
#### 字符串插入
　字符串插入是一种设置字符串格式的简单方法，是Python从C语言那里借鉴而来的，格式如下，%号后面接一个元组，如果说明符只有一个，也可以直接传一个值。想在字符串中包含字符%需要再使用一个%转义（或者escape），即%%
```python
'this is a %s' % 'dog'
'%d,%d,%d' % (1,2,3)
```
#### 格式字符串
　在Python中，另一种创建美观字符串的方式是结合使用格式字符串和字符串函数`format(value,format_spec)`，如：
> \>\>\>'my {pet} has {prob}'.format(pet = 'dog',prob = 'fleas')
> my dog has fleas

　在格式字符串中，用大括号括起来的内容都将被替换，这被称为**命名替换**，这种方式可读性极佳。除了**命名替换**之外，你还可以按位置替换值：
> \>\>\>'my {0} has {1}'.format('dog','fleas')
> my dog has fleas

　在格式化字符串中还可以像字符串插入那样使用转换说明符用以约束替换的值类型，格式如下：
> />/>/> '1/81 = {x:f}'.format (x=1/81)
> 1/81 = 0.012345679012345678

　如果要在格式字符串中表示字符{或者}，需要使用{{或者}}

### 读写文件

#### 文件
　文件是一个命名的比特集合，存储在存储设备中。这里将文件分为两类：文本文件和二进制文件。
　文本文件具有如下特点：
 * 基本上是磁盘中的字符串
 * 可使用任何文本编辑器进行编辑，对人类来说相对容易阅读和修改
 * 对程序来说，它们通常难以阅读。通常，每种文本文件都需要使用相应的分析程序（parser）来阅读，例如，Python使用专用的分析程序来帮助阅读.py文件，而要阅读HTML文件，需要使用专用与HTML的分析程序。
* 通常比等价的二进制文件大，需要通过网络发送大型文本文件时，这是个严重的问题。因此，通常对文本文件进行压缩，以提高传输速度和节省磁盘空间
   二进制文件具有如下特点：
 * 通常是人类无法阅读的，至少使用常规文本编辑器无法查看。
 * 占据的空间通常比等价的文本文件小。例如，二进制文件可能将保存的信息编组，每组包含32位，而两组之间不使用逗号或空格等分隔符。
 * 对程序来说，它们读起来通常比文本文件容易，无需编写复杂的分析程序来读取它们
 * 通常和特定程序相关联，如果没有关联的程序通常无法使用它们

#### 文件夹
　除文件外，人们还使用文件夹（目录）来存储文件和其他文件夹。**路径名**是用于标识文件或文件夹的名称。完整的路径名可能很长，windows的路径名使用反斜杠（\）作为分隔符，\*inux系统使用斜杠（/）分割路径。

#### 检查文件和文件夹
|      函数名       |                  作用                   |
| :---------------: | :-------------------------------------: |
|    os.getcwd()    |         返回当前工作目录的路径          |
| os.listdir(path)  |  返回指定目录中所有文件和文件夹的名称   |
|  os.chdir(path)   |      将指定路径设置为当前工作目录       |
| os.path.isfile(p) |       判断指定文件路径是否为文件        |
| os.path.isdir(p)  |    判断指定文件路径的文件是否为目录     |
|  os.stat(fname)   | 返回有关fname的信息，如大小、修改时间等 |
　更多常用方法请阅读Python文档

#### 处理文本文件
　首先让我们来看一个简单的例子：
```python
def print_file1(fname):
    f = open(fname,'r')#如果这里发生了错误，程序可能不会妥善释放文件资源
    #逐行读取占用少量内存，仅将读取的（或者少量的）行置入内存
    for line in f:
        print(line,end='')
    f.close() #这行代码是可选的，Python几乎总会自动为你关闭文件。在文件句柄变量被回收时，Python释放文件资源。

#将整个文件作为一个字符串读取
print(open(fname,'r').read())
```
　我们从中可以清晰的看出文件的处理流程：打开文件->处理文件->关闭文件。这个函数第一行打开指定的文件：调用函数open时，必须指定你要处理的文件的名称，还必须指定打开的模式，默认以't'模式打开（只读的文本文件）。
　

　